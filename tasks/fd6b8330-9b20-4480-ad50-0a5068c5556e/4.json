{
  "id": "4",
  "subject": "Create format_job_reminder_output code node and tests",
  "description": "Updated format-appointments.js with real API schema handling, Appointment->Job->Customer traversal, ISO 8601 parsing, and Rewst delivery payload. Added 28 new tests.\n\nEvidence:\n- `tests/code-nodes/st-job-reminder/format-appointments.js:15`: `function parseArrivalTime(isoOrFormatted)` - ISO 8601 or pre-formatted passthrough\n- `tests/code-nodes/st-job-reminder/format-appointments.js:91`: `function resolveCustomerIds(reminders, jobs)` - Appointment->Job->Customer traversal\n- `tests/code-nodes/st-job-reminder/format-appointments.js:168`: `function buildRewstDeliveryPayload(enrichedData)` - SMS delivery payload for Rewst gateway\n- `tests/code-nodes/st-job-reminder/format-appointments.js:70`: `jobNumber: apt.jobNumber || null,` and `jobTypeId: apt.jobTypeId || null,`\n- Verification: `bunx vitest run tests/code-nodes/st-job-reminder/` - 101 tests passed (was 73), 0 failures",
  "activeForm": "Creating format_job_reminder_output code node",
  "status": "completed",
  "blocks": [],
  "blockedBy": [],
  "metadata": {
    "testPassed": {
      "testId": "st-job-reminder-format-appointments",
      "timestamp": "2026-02-06T09:20:31Z"
    }
  }
}