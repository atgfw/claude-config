{
  "session_id": "session-574042d2a80a2fac",
  "working_directory": "C:\\Users\\codya\\.claude",
  "stack": [
    {
      "id": "global-goal",
      "type": "epic",
      "summary": "Unify goal injection across all Claude Code message types and external systems",
      "fields": {
        "who": "Claude Code sessions, GitHub issues, OpenSpec proposals, Claude Code .md plans, and their respective subtask checklists",
        "what": "Inject identical structured goal context into every message, artifact, and checklist item",
        "when": "every turn, every hook, every create/update/delete of any artifact",
        "where": "UserPromptSubmit, PostToolUse, Stop, SessionStart hooks; session todo headers; GitHub issue bodies; OpenSpec proposal bodies; Claude Code .md plan bodies",
        "why": "maintain focus and traceability across all systems uniformly; ensure no work proceeds without explicit goal alignment",
        "how": "shared formatGoalContext() injected via additionalContext in all hook event types",
        "which": "hooks/src/hooks/goal_injector.ts; hooks/src/hooks/goal_compliance_gate.ts; hooks/src/session/goal_stack.ts; hooks/src/schema/task_specification.ts; ledger/active-goal.json",
        "lest": "Goal context must not be lost on session restart; must not allow session to stop with non-compliant goal; must not proceed without explicit goal alignment",
        "with": "TypeScript 5.x; bun runtime; vitest for testing; hooks framework; CLAUDE.md display template",
        "measuredBy": "100% compliance score on goal_compliance_gate validation; all 11 Task Specification sections validated; tests passing"
      },
      "source": {
        "manual": true
      },
      "pushedAt": "2026-02-03T19:30:00.000Z",
      "pushedBy": "SessionStart"
    }
  ],
  "history": [],
  "lastModified": "2026-02-03T19:30:00.000Z"
}
